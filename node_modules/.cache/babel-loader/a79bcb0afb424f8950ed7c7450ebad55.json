{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { getDataJson, pollingRefresh } from '@/utils';\nexport default {\n  name: 'BText',\n  props: {\n    cptId: {\n      type: String,\n      default: ''\n    },\n    configProps: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  data() {\n    return {\n      cptData: {},\n      uuid: null\n    };\n  },\n  created() {\n    this.uuid = require('uuid').v1();\n    this.refreshCptData();\n  },\n  methods: {\n    convertStyle(attr) {\n      const style = {\n        width: '100%',\n        height: '100%',\n        textAlign: attr.textAlign,\n        color: attr.textColor,\n        fontSize: attr.textSize + 'px',\n        fontStyle: attr.fontStyle,\n        fontWeight: attr.fontWeight,\n        lineHeight: attr.textLineHeight + 'px',\n        backgroundColor: attr.bgColor,\n        fontFamily: attr.textFamily,\n        textDecoration: attr.textDecoration,\n        paddingTop: attr.paddingTop + 'px',\n        paddingRight: attr.paddingRight + 'px',\n        paddingBottom: attr.paddingBottom + 'px',\n        paddingLeft: attr.paddingLeft + 'px'\n      };\n      if (attr.textShadow) {\n        const {\n          offsetX,\n          offsetY,\n          blurRadius,\n          textShadowColor\n        } = attr;\n        style['text-shadow'] = `${offsetX}px ${offsetY}px ${blurRadius}px ${textShadowColor}`;\n      }\n      return style;\n    },\n    refreshCptData() {\n      pollingRefresh(this.uuid, this.configProps.cptDataForm, this.loadData);\n    },\n    loadData() {\n      getDataJson(this.configProps.cptDataForm, this.cptId).then(res => {\n        this.cptData = res;\n      });\n    },\n    redirect() {\n      if (this.configProps.attribute.url) {\n        if (this.configProps.attribute.url.startsWith('view')) {\n          this.$router.push(this.configProps.attribute.url);\n          this.$emit('reload');\n        } else {\n          window.open(this.configProps.attribute.url);\n        }\n      }\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module"}