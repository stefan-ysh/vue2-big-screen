{"ast":null,"code":"import axios from 'axios';\nimport { Message } from 'element-ui';\nimport { tansParams } from '@/utils/common';\naxios.defaults.headers['Content-Type'] = 'application/json;charset=utf-8';\nconst service = axios.create({\n  baseURL: 'http://xxx.xxx.xxx',\n  timeout: 30000\n});\n\n// 请求拦截\nservice.interceptors.request.use(config => {\n  // get请求映射params参数\n  if (config.method === 'get' && config.params) {\n    let url = config.url + '?' + tansParams(config.params);\n    url = url.slice(0, -1);\n    config.params = {};\n    config.url = url;\n  }\n  return config;\n}, error => {\n  Promise.reject(error);\n});\n\n// 响应拦截\nservice.interceptors.response.use(res => {\n  return res.data;\n}, error => {\n  Message({\n    message: '出错啦，稍后再试！',\n    type: 'error',\n    duration: 5000\n  });\n  return Promise.reject(error);\n});\nexport default service;","map":null,"metadata":{},"sourceType":"module"}