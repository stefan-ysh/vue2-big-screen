{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// import { getToken } from '@/utils/auth'\n\nexport default {\n  name: 'CarouselSetter',\n  props: {\n    attribute: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  data() {\n    return {\n      // todo 文件上传url\n      uploadUrl: 'example/upload',\n      // uploadHeaders: { 'X-Token': getToken() },\n      fileList: []\n    };\n  },\n  methods: {\n    beforeBgImgUpload(file) {\n      const isIMG = file.type.substr(0, 5) === 'image';\n      const isLt5M = file.size / 1024 / 1024 < 25;\n      if (!isIMG) {\n        this.$message.error('上传图片只能是图片格式!');\n      }\n      if (!isLt5M) {\n        this.$message.error('上传图片大小不能超过 25MB!');\n      }\n      return isIMG && isLt5M;\n    },\n    handleRemove(index) {\n      this.attribute.imgUrls.splice(index, 1);\n    },\n    handleAvatarSuccess(res) {\n      if (res.code !== 1) {\n        this.$message.error(res.msg);\n      }\n      this.attribute.imgUrls.push(this.uploadUrl + '/file/img/' + res.data);\n    },\n    handleError(err, file) {\n      this.$message.error('图片上传失败，使用本地路径');\n      this.attribute.imgUrls.push(file.url);\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module"}